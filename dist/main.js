(()=>{"use strict";function e(){let e=document.getElementById("main-side");for(;e.firstChild;)e.removeChild(e.firstChild)}function t(){document.querySelector(".projectListe").innerHTML="";var e=0;console.log("tood to render");const t=document.querySelector(".projectListe"),n=localStorage.getItem("todos");(JSON.parse(n)||[]).forEach((n=>{const d=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),i=document.createElement("i");o.classList.add("delete"),i.classList="fas fa-trash",o.setAttribute("data-index",e),o.appendChild(i),a.textContent=`${n.title}`,d.setAttribute("data-index",e),d.classList.add("project"),a.classList.add("projectName"),d.appendChild(a),d.appendChild(o),t.appendChild(d),e+=1}))}function n(){e();const t=document.getElementById("main-side"),n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),o=document.createElement("hr"),i=document.createElement("div"),l=document.createElement("button");l.textContent="Add task",l.id="addTask",i.classList="taskContainer",n.classList="taskPanel",n.id="taskPanel",d.classList="projectInfoContainer",a.appendChild(o),document.querySelectorAll(".project").forEach((o=>{o.addEventListener("click",(()=>{console.log("Asdaffsd"),e();var c=JSON.parse(localStorage.getItem("todos")),s=o.dataset.index;d.textContent=c[s].title,n.appendChild(d),n.appendChild(a),c[s].task.forEach((e=>{const t=document.createElement("div");t.classList="task";const n=document.createElement("div");n.classList="taskInfo";const d=document.createElement("div");d.classList="delete";const a=document.createElement("i");a.classList="fas fa-trash",d.appendChild(a);const o=document.createElement("div"),c=document.createElement("div"),r=document.createElement("div");"High"===e.importance?r.classList="red":"Low"===e.importance?r.classList="green":r.classList="yellow",o.textContent=`${e.title}`,c.textContent=`${e.description}`,r.textContent=`${e.importance}`,n.appendChild(o),n.appendChild(c),n.appendChild(r),l.setAttribute("data-index",s),t.appendChild(n),t.appendChild(d),i.appendChild(t)})),n.appendChild(i),n.appendChild(l),t.appendChild(n)}))})),l.addEventListener("click",(e=>{!function(e){console.log("i'm not ready yet to add a task");const t=document.querySelector(".taskContainer"),n=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),o=document.createElement("i"),i=document.createElement("dialog"),l=document.createElement("input"),c=document.createElement("textarea"),s=document.createElement("input"),r=document.createElement("input"),m=document.createElement("input"),p=document.createElement("div"),u=document.createElement("p"),h=document.createElement("label"),C=document.createElement("label"),E=document.createElement("label"),v=document.createElement("label"),f=document.createElement("button"),g=document.createElement("button");u.textContent="Add task ici :) ",h.textContent="How important is it ¿?",C.textContent="High",E.textContent="Medium",v.textContent="Low",f.textContent="Cancel",g.textContent="Add to local storage",f.setAttribute("type","button"),g.setAttribute("type","submit"),l.type="text",s.type="radio",r.type="radio",m.type="radio",s.id="r1",r.id="r2",m.id="r3",s.name="option",r.name="option",m.name="option",s.value="High",r.value="Medium",m.value="Low",C.setAttribute("for","r1"),E.setAttribute("for","r2"),v.setAttribute("for","r3"),l.setAttribute("placeholder","titl ..."),c.setAttribute("placeholder","Amy thing to note ..."),l.required=!0,c.required=!0,p.appendChild(C),p.appendChild(s),p.appendChild(E),p.appendChild(r),p.appendChild(v),p.appendChild(m),i.appendChild(u),i.appendChild(l),i.appendChild(c),i.appendChild(h),i.appendChild(p),i.appendChild(f),i.appendChild(g),t.appendChild(i),i.showModal(),g.addEventListener("click",(s=>{s.preventDefault();let r=JSON.parse(localStorage.getItem("todos"))||[];console.log(r.length);let m={title:l.value,description:c.value,importance:document.querySelector('input[name="option"]:checked').value};r[e].task.push(m),localStorage.setItem("todos",JSON.stringify(r)),n.classList="task",d.classList="taskInfo",a.classList="delete",o.classList="fas fa-trash";const p=document.createElement("div"),u=document.createElement("div"),h=document.createElement("div");p.textContent=l.value,u.textContent=c.value,h.textContent=m.importance,d.appendChild(p),d.appendChild(u),d.appendChild(h),a.appendChild(o),n.appendChild(d),n.appendChild(a),t.appendChild(n),i.close(),i.remove(),console.log("item added successfully")})),f.addEventListener("click",(()=>{i.close(),i.remove()}))}(e.currentTarget.getAttribute("data-index"))}))}function d(){let e=JSON.parse(localStorage.getItem("todos"))||[];0===e.length&&(e.push({title:"Default Project",index:0,task:[{title:"Default title",description:"Default description",importance:"High"}]}),localStorage.setItem("todos",JSON.stringify(e)))}function a(){e();const t=document.getElementById("main-side"),n=document.createElement("div");n.textContent="What To Do",n.className="welcome",t.appendChild(n)}d(),a(),document.addEventListener("DOMContentLoaded",(()=>{t(),function(){const n=document.querySelector(".left-side"),o=document.createElement("div");o.textContent="Reset Local storage",o.className="reset",n.appendChild(o),o.addEventListener("click",(()=>{localStorage.clear(),e(),d(),t(),a()}))}(),document.getElementById("add").addEventListener("click",(()=>{!function(){e();const d=document.getElementById("main-side"),a=document.createElement("div"),o=document.createElement("label"),i=document.createElement("input"),l=document.createElement("button"),c=document.createElement("button"),s=document.createElement("div");i.id="projectTitle",i.setAttribute("placeholder","project name ici ..."),o.classList.add("titre"),a.classList.add("addContainer"),i.classList.add("champsDeSaisie"),l.classList="addBtn bouton",c.classList="cancelBtn bouton",s.classList.add("btns"),l.setAttribute("type","submit"),c.setAttribute("type","button"),o.textContent="Titre du projet",o.setAttribute("for","projectTitle"),l.textContent="Add",c.textContent="Cancel",a.appendChild(o),a.appendChild(i),s.appendChild(l),s.appendChild(c),a.appendChild(s),d.appendChild(a),i.focus(),l.addEventListener("click",(function(){if(""!==i.value){let d=JSON.parse(localStorage.getItem("todos"))||[];d.push({title:`${i.value}`,index:d.length,task:[{title:"Default title",description:"Default description",importance:"High"}]}),localStorage.setItem("todos",JSON.stringify(d)),i.value="",e(),t(),n()}else alert("saise un project d'abord ")})),c.addEventListener("click",(function(){t(),n()}))}()}));const o=document.querySelector(".title");o.addEventListener("mouseenter",(()=>{o.style.cursor="pointer",o.addEventListener("click",(()=>{a()}))})),document.querySelectorAll(".projectName").forEach((t=>{t.addEventListener("click",(()=>{n(),e()}))})),document.querySelectorAll(".delete").forEach((e=>{e.addEventListener("click",(()=>{!function(e){let n=JSON.parse(localStorage.getItem("todos"))||[],d=n.findIndex((t=>t.index===parseInt(e)));n.splice(d,1),localStorage.setItem("todos",JSON.stringify(n));let a=JSON.parse(localStorage.getItem("todos"))||[];var o=0;a.forEach((e=>{e.index=o,o+=1})),localStorage.setItem("todos",JSON.stringify(a)),location.reload(),t()}(e.getAttribute("data-index"))}))}))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dEMsU0FBdUJVLEdBQzFCLElBQUltRCxFQUFZdEYsS0FBS0MsTUFBTUgsYUFBYUMsUUFBUSxXQUFhLEdBQ3pEd0YsRUFBZ0JELEVBQVVFLFdBQVVDLEdBQVFBLEVBQUtoRyxRQUFVaUcsU0FBU3ZELEtBQ3hFbUQsRUFBVUssT0FBT0osRUFBZSxHQUNoQ3pGLGFBQWE4RCxRQUFRLFFBQVM1RCxLQUFLNkQsVUFBVXlCLElBRzdDLElBQUk5QixFQUFReEQsS0FBS0MsTUFBTUgsYUFBYUMsUUFBUSxXQUFhLEdBQ3pELElBQUk2RixFQUFJLEVBQ1JwQyxFQUFNdEQsU0FBUUMsSUFDVkEsRUFBS1YsTUFBUW1HLEVBQ2JBLEdBQUcsS0FFUDlGLGFBQWE4RCxRQUFRLFFBQVM1RCxLQUFLNkQsVUFBVUwsSUFDN0NxQyxTQUFTQyxTQUNUeEcsR0FDSixDRm9DWXlHLENBQWNWLEVBQVdsQixhQUFhLGNBQWMsR0FDdEQsR0FDSixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kbzIvLi9zcmMvbG9hZFBhZ2UuanMiLCJ3ZWJwYWNrOi8vdG9kbzIvLi9zcmMvcmVuZGVyVG9kb1Byb2plY3ROYW1lLmpzIiwid2VicGFjazovL3RvZG8yLy4vc3JjL2luaXRpYWxpemVMZWZ0U2lkZS5qcyIsIndlYnBhY2s6Ly90b2RvMi8uL3NyYy9yZW5kZXJNYWluUGFnZS5qcyIsIndlYnBhY2s6Ly90b2RvMi8uL3NyYy9hZGRUYXNrLmpzIiwid2VicGFjazovL3RvZG8yLy4vc3JjL3NldERlZmF1bHQuanMiLCJ3ZWJwYWNrOi8vdG9kbzIvLi9zcmMvZGVmYXVsdE1haW4uanMiLCJ3ZWJwYWNrOi8vdG9kbzIvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdG9kbzIvLi9zcmMvYWRkUHJvamVjdC5qcyIsIndlYnBhY2s6Ly90b2RvMi8uL3NyYy9kZWxldFByb2plY3ROYW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplTWFpblNpZGUoKXtcbiAgICAvLyBJZGVudGlmeSB0aGUgbWFpbiBjb250YWluZXIgZWxlbWVudFxuICAgIGxldCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tc2lkZScpO1xuICAgIC8vIENsZWFyIHRoZSBtYWluIGNvbnRhaW5lciBiZWZvcmUgZGlzcGxheWluZyBuZXcgY29udGVudFxuICAgIHdoaWxlIChtYWluQ29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbWFpbkNvbnRhaW5lci5yZW1vdmVDaGlsZChtYWluQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBpbml0aWFsaXplTGVmdFNpZGUgfSBmcm9tIFwiLi9pbml0aWFsaXplTGVmdFNpZGVcIjtcbi8vaW1wb3J0IHsgaW5pdGlhbGl6ZU1haW5TaWRlIH0gZnJvbSBcIi4vbG9hZFBhZ2VcIjsgXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyVG9kb1Byb2plY3ROYW1lKCl7XG4gICAgaW5pdGlhbGl6ZUxlZnRTaWRlKCk7XG4gICAgLy9pbml0aWFsaXplTWFpblNpZGUoKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGNvbnNvbGUubG9nKFwidG9vZCB0byByZW5kZXJcIik7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0TGlzdGVcIik7XG4gICAgY29uc3QgdG9kb3NKc29uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9zJyk7XG4gICAgY29uc3QgdG9kb3MgPSBKU09OLnBhcnNlKHRvZG9zSnNvbikgfHwgW107XG4gICAgdG9kb3MuZm9yRWFjaCh0b2RvID0+IHtcbiAgICAgICAgY29uc3QgYmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnN0IHRyYXNoQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3QgdHJhc2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcbiAgICAgICAgdHJhc2hDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImRlbGV0ZVwiKTtcbiAgICAgICAgdHJhc2guY2xhc3NMaXN0ID0gXCJmYXMgZmEtdHJhc2hcIjtcbiAgICAgICAgdHJhc2hDb250YWluZXIuc2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiLCBpbmRleCk7XG4gICAgICAgIHRyYXNoQ29udGFpbmVyLmFwcGVuZENoaWxkKHRyYXNoKTtcbiAgICAgICAgLy86ICR7dG9kby5kZXNjcmlwdGlvbn1cblxuICAgICAgICBuYW1lLnRleHRDb250ZW50ID0gYCR7dG9kby50aXRsZX1gO1xuICAgICAgICBibG9jay5zZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIsaW5kZXgpO1xuXG4gICAgICAgIGJsb2NrLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpO1xuICAgICAgICBuYW1lLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0TmFtZVwiKTtcbiAgICAgICAgYmxvY2suYXBwZW5kQ2hpbGQobmFtZSk7XG4gICAgICAgIGJsb2NrLmFwcGVuZENoaWxkKHRyYXNoQ29udGFpbmVyKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGJsb2NrKTtcbiAgICAgICAgaW5kZXgrPTE7XG4gICAgfSk7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVMZWZ0U2lkZSgpe1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdExpc3RlXCIpLmlubmVySFRNTCA9IFwiXCI7XG59IiwiaW1wb3J0IHsgaW5pdGlhbGl6ZU1haW5TaWRlIH0gZnJvbSBcIi4vbG9hZFBhZ2VcIjtcbmltcG9ydCB7IGFkZFRhc2sgfSBmcm9tIFwiLi9hZGRUYXNrXCI7XG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyTWFpblBhZ2UoKXtcbiAgICBpbml0aWFsaXplTWFpblNpZGUoKTtcblxuICAgIGNvbnN0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbi1zaWRlJyk7XG4gICAgY29uc3QgcGFuZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBwcm9qZWN0SW5mb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGhvcml6bnRhbGVMaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaHInKTtcbiAgICBjb25zdCB0YXNrQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnRuLnRleHRDb250ZW50ID0gJ0FkZCB0YXNrJztcbiAgICBidG4uaWQgPSBcImFkZFRhc2tcIjtcbiAgICB0YXNrQ29udGFpbmVyLmNsYXNzTGlzdD0gXCJ0YXNrQ29udGFpbmVyXCI7XG4gICAgcGFuZWwuY2xhc3NMaXN0ID0gXCJ0YXNrUGFuZWxcIjtcbiAgICBwYW5lbC5pZCA9IFwidGFza1BhbmVsXCI7XG4gICAgcHJvamVjdEluZm9Db250YWluZXIuY2xhc3NMaXN0PSBcInByb2plY3RJbmZvQ29udGFpbmVyXCI7XG4gICAgZGl2LmFwcGVuZENoaWxkKGhvcml6bnRhbGVMaW5lKTtcblxuLy8gICAgY29uc3QgdG9kb3NOYW1lcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0TmFtZScpO1xuICAgIGNvbnN0IHRvZG9zTmFtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvamVjdCcpO1xuXG4gICAgdG9kb3NOYW1lcy5mb3JFYWNoKHRvZG9OYW1lID0+IHtcbiAgICAgICAgXG4gICAgICAgIHRvZG9OYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkFzZGFmZnNkXCIpO1xuICAgICAgICAgICAgaW5pdGlhbGl6ZU1haW5TaWRlKCk7XG4gICAgICAgICAgICAvL3NlZXRpbmcgdXAgdGhlIFByb2plY3QgbmFtZSBhbmQgdGhlIDxocj5cbiAgICAgICAgICAgIC8vdGFraW5nIG91dCB0aGUgcHJvamVjdCBuYW1lIGZyb20gdGhlIGxvY2FsIHN0b3JhZ2VcbiAgICAgICAgICAgIHZhciBzdG9yZWRUb2RvcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9zJykpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdG9kb05hbWUuZGF0YXNldC5pbmRleFxuICAgICAgICAgICAgcHJvamVjdEluZm9Db250YWluZXIudGV4dENvbnRlbnQgPSBzdG9yZWRUb2Rvc1tpbmRleF0udGl0bGU7XG4gICAgICAgICAgICAvL3N0YXJ0IGNvbnN0cnVjdGluZyB0aGUgcGFuZWwgXG4gICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChwcm9qZWN0SW5mb0NvbnRhaW5lcik7XG4gICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZChkaXYpO1xuXG4gICAgICAgICAgICAvL3JlbmRlcmluZyBlYWNoIHRhc2sgYmxvY2sgO1xuICAgICAgICAgICAgbGV0IHRhc2tzID0gc3RvcmVkVG9kb3NbaW5kZXhdLnRhc2sgO1xuICAgICAgICAgICAgdGFza3MuZm9yRWFjaCh0YXNrID0+e1xuICAgICAgICAgICAgICAgIC8vY3JlYXRpbmcgb25lIHRhc2sgYmxvY2sgdG8gZGlzcGxheVxuICAgICAgICAgICAgICAgIGNvbnN0IHRvRG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICB0b0RvLmNsYXNzTGlzdD0gXCJ0YXNrXCI7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza0luZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICB0YXNrSW5mby5jbGFzc0xpc3Q9IFwidGFza0luZm9cIjtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFzaENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIHRyYXNoQ29udGFpbmVyLmNsYXNzTGlzdD0gXCJkZWxldGVcIjtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFzaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICAgICAgICAgICAgICB0cmFzaC5jbGFzc0xpc3Q9IFwiZmFzIGZhLXRyYXNoXCI7XG4gICAgICAgICAgICAgICAgdHJhc2hDb250YWluZXIuYXBwZW5kQ2hpbGQodHJhc2gpO1xuXG4gICAgICAgICAgICAgICAgLy8gZGl2aWRpaW5nIHRoZSB0YXNrIGluZm8gaW50byB0aGlzIDMgc2VjdGlvbnMgIG5vdCB5ZXQgZG9uZSAgICAgICAhISFcbiAgICAgICAgICAgICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW1wb3J0YW5jZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgIGlmICh0YXNrLmltcG9ydGFuY2UgPT09ICdIaWdoJyl7XG4gICAgICAgICAgICAgICAgICAgIGltcG9ydGFuY2UuY2xhc3NMaXN0ID0gJ3JlZCc7XG4gICAgICAgICAgICAgICAgfWVsc2UgaWYgKHRhc2suaW1wb3J0YW5jZSA9PT0gJ0xvdycpe1xuICAgICAgICAgICAgICAgICAgICBpbXBvcnRhbmNlLmNsYXNzTGlzdCA9ICdncmVlbic7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGltcG9ydGFuY2UuY2xhc3NMaXN0ID0gJ3llbGxvdyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy9maWxsIG91dCB0aGUgYmxvY2tcbiAgICAgICAgICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9IGAke3Rhc2sudGl0bGV9YDtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGAke3Rhc2suZGVzY3JpcHRpb259YDtcbiAgICAgICAgICAgICAgICBpbXBvcnRhbmNlLnRleHRDb250ZW50ID0gYCR7dGFzay5pbXBvcnRhbmNlfWA7XG4gICAgICAgICAgICAgICAgdGFza0luZm8uYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgICAgICAgICAgIHRhc2tJbmZvLmFwcGVuZENoaWxkKGRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB0YXNrSW5mby5hcHBlbmRDaGlsZChpbXBvcnRhbmNlKTtcblxuICAgICAgICAgICAgICAgIGJ0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgLyogXG4gICAgICAgICAgICAgICAgICAgIGhlcmUgc2hvdWxkIGJlIGdldHRpbmcgZmlsZGVzIGZyb20gbG9jYWxTdG9yYWdlIHRvIHRoZSB0YXNrIGluZm8gXG4gICAgICAgICAgICAgICAgICAgIHRoZW4gYWRkaW5nIHRoZSB0byB0aGUgbG9jYWwgc3RvcmVnXG4gICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgICAgIC8vZGlzcGxheSB0aGUgdGFzayBibG9jayBcInRvRG9cIlxuICAgICAgICAgICAgICAgIHRvRG8uYXBwZW5kQ2hpbGQodGFza0luZm8pO1xuICAgICAgICAgICAgICAgIHRvRG8uYXBwZW5kQ2hpbGQodHJhc2hDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQodG9Ebyk7XG4gICAgICAgICAgICB9KTsgXG4gICAgICAgICAgICBwYW5lbC5hcHBlbmRDaGlsZCh0YXNrQ29udGFpbmVyKTtcbiAgICAgICAgICAgIHBhbmVsLmFwcGVuZENoaWxkKGJ0bik7XG4gICAgICAgICAgICBtYWluQ29udGFpbmVyLmFwcGVuZENoaWxkKHBhbmVsKTsgXG4gICAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlPT57YWRkVGFzayhlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4JykpO30pO1xufSIsImV4cG9ydCBmdW5jdGlvbiBhZGRUYXNrKGluZGV4KXtcbiAgICBjb25zb2xlLmxvZyhcImknbSBub3QgcmVhZHkgeWV0IHRvIGFkZCBhIHRhc2tcIik7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tDb250YWluZXInKTtcblxuICAgIGNvbnN0IHRhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCB0YXNrSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IGRlbGV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcblxuICAgIC8vIGRpYWxvZy5zaG93TW9kYWwoKTtkaWFsb2cuY2xvc2UoKTsgICBkaWFsb2cgc3RhcnRcbiAgICBjb25zdCBkaWFsb2cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaWFsb2cnKTtcbiAgICBjb25zdCB0aXRsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBjb25zdCBkaXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgY29uc3QgcmFkaW8xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBjb25zdCByYWRpbzIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNvbnN0IHJhZGlvMyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgY29uc3QgY2hvaXggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBwMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBjb25zdCBsYWJlbDAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IGxhYmVsMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgbGFiZWwyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBsYWJlbDMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNvbnN0IGFkZEJ0blRvTG9jYWxTdG9yYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgLy9jb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkVGFzaycpO1xuXG4gICAgcDEudGV4dENvbnRlbnQgPSBcIkFkZCB0YXNrIGljaSA6KSDvo79cIjtcbiAgICBsYWJlbDAudGV4dENvbnRlbnQgPSBcIkhvdyBpbXBvcnRhbnQgaXMgaXQgwr8/XCI7XG4gICAgbGFiZWwxLnRleHRDb250ZW50ID0gXCJIaWdoXCI7XG4gICAgbGFiZWwyLnRleHRDb250ZW50ID0gXCJNZWRpdW1cIjtcbiAgICBsYWJlbDMudGV4dENvbnRlbnQgPSBcIkxvd1wiO1xuICAgIGNhbmNlbEJ0bi50ZXh0Q29udGVudCA9IFwiQ2FuY2VsXCI7XG4gICAgYWRkQnRuVG9Mb2NhbFN0b3JhZ2UudGV4dENvbnRlbnQgPSBcIkFkZCB0byBsb2NhbCBzdG9yYWdlXCI7XG4gICAgY2FuY2VsQnRuLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICBhZGRCdG5Ub0xvY2FsU3RvcmFnZS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnc3VibWl0Jyk7XG5cbiAgICB0aXRsLnR5cGUgPSAndGV4dCc7XG4gICAgXG4gICAgcmFkaW8xLnR5cGUgPSAncmFkaW8nO1xuICAgIHJhZGlvMi50eXBlID0gJ3JhZGlvJztcbiAgICByYWRpbzMudHlwZSA9ICdyYWRpbyc7XG4gICAgcmFkaW8xLmlkPSdyMSc7XG4gICAgcmFkaW8yLmlkPSdyMic7XG4gICAgcmFkaW8zLmlkPSdyMyc7XG4gICAgcmFkaW8xLm5hbWUgPSBcIm9wdGlvblwiO1xuICAgIHJhZGlvMi5uYW1lID0gXCJvcHRpb25cIjtcbiAgICByYWRpbzMubmFtZSA9IFwib3B0aW9uXCI7XG4gICAgcmFkaW8xLnZhbHVlPVwiSGlnaFwiO1xuICAgIHJhZGlvMi52YWx1ZT1cIk1lZGl1bVwiO1xuICAgIHJhZGlvMy52YWx1ZT1cIkxvd1wiO1xuICAgIGxhYmVsMS5zZXRBdHRyaWJ1dGUoXCJmb3JcIiAsIFwicjFcIik7XG4gICAgbGFiZWwyLnNldEF0dHJpYnV0ZShcImZvclwiICwgXCJyMlwiKTtcbiAgICBsYWJlbDMuc2V0QXR0cmlidXRlKFwiZm9yXCIgLCBcInIzXCIpO1xuXG4gICAgdGl0bC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgXCJ0aXRsIC4uLlwiKTtcbiAgICBkaXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyxcIkFteSB0aGluZyB0byBub3RlIC4uLlwiKTtcbiAgICB0aXRsLnJlcXVpcmVkID0gdHJ1ZTtcbiAgICBkaXNjcmlwdGlvbi5yZXF1aXJlZCA9IHRydWU7XG5cbiAgICBjaG9peC5hcHBlbmRDaGlsZChsYWJlbDEpO1xuICAgIGNob2l4LmFwcGVuZENoaWxkKHJhZGlvMSk7XG4gICAgY2hvaXguYXBwZW5kQ2hpbGQobGFiZWwyKTtcbiAgICBjaG9peC5hcHBlbmRDaGlsZChyYWRpbzIpO1xuICAgIGNob2l4LmFwcGVuZENoaWxkKGxhYmVsMyk7XG4gICAgY2hvaXguYXBwZW5kQ2hpbGQocmFkaW8zKTtcblxuICAgIGRpYWxvZy5hcHBlbmRDaGlsZChwMSk7XG4gICAgZGlhbG9nLmFwcGVuZENoaWxkKHRpdGwpO1xuICAgIGRpYWxvZy5hcHBlbmRDaGlsZChkaXNjcmlwdGlvbik7XG4gICAgZGlhbG9nLmFwcGVuZENoaWxkKGxhYmVsMCk7XG4gICAgZGlhbG9nLmFwcGVuZENoaWxkKGNob2l4KTtcbiAgICBkaWFsb2cuYXBwZW5kQ2hpbGQoY2FuY2VsQnRuKTtcbiAgICBkaWFsb2cuYXBwZW5kQ2hpbGQoYWRkQnRuVG9Mb2NhbFN0b3JhZ2UpO1xuXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpYWxvZyk7XG4gICAgZGlhbG9nLnNob3dNb2RhbCgpO1xuXG4gICAgYWRkQnRuVG9Mb2NhbFN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCk9PntcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAvLyBzdG9yaW5nIHRoZSBpbnB1dCBmaWxkZSBpbnRvIHRoIGVsb2NhbCBzdG9yYWdlIHRpdGwgLyBkaXNjcmlwdGlvbiBhbmQgdGhlIFZBTFVFIG9mIHRoZSBzZWxlY3RlZCBjaG9pY2UgXG5cbiAgICAgICAgbGV0IHRvZG9zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb3MnKSkgfHwgW107XG4gICAgICAgIGNvbnNvbGUubG9nKHRvZG9zLmxlbmd0aCk7XG4gICAgICAgIGxldCBuZXdUYXNrID0ge1xuICAgICAgICAgICAgdGl0bGUgOiB0aXRsLnZhbHVlLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24gOiBkaXNjcmlwdGlvbi52YWx1ZSxcbiAgICAgICAgICAgIGltcG9ydGFuY2UgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwib3B0aW9uXCJdOmNoZWNrZWQnKS52YWx1ZVxuICAgICAgICB9O1xuICAgICAgICB0b2Rvc1tpbmRleF0udGFzay5wdXNoKG5ld1Rhc2spO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kb3MnLCBKU09OLnN0cmluZ2lmeSh0b2RvcykpO1xuXG4gICAgICAgIHRhc2suY2xhc3NMaXN0ID0gJ3Rhc2snO1xuICAgICAgICB0YXNrSW5mby5jbGFzc0xpc3QgPSAndGFza0luZm8nO1xuICAgICAgICBkZWxldC5jbGFzc0xpc3QgPSAnZGVsZXRlJztcbiAgICAgICAgaS5jbGFzc0xpc3QgPSBcImZhcyBmYS10cmFzaFwiO1xuXG4gICAgICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnN0IGltcG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICB0aXRsZS50ZXh0Q29udGVudCA9IHRpdGwudmFsdWU7XG4gICAgICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gZGlzY3JpcHRpb24udmFsdWU7XG4gICAgICAgIGltcG8udGV4dENvbnRlbnQgPSBuZXdUYXNrLmltcG9ydGFuY2U7XG4gICAgICAgIHRhc2tJbmZvLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICAgICAgdGFza0luZm8uYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xuICAgICAgICB0YXNrSW5mby5hcHBlbmRDaGlsZChpbXBvKTtcblxuICAgICAgICBkZWxldC5hcHBlbmRDaGlsZChpKTtcbiAgICAgICAgdGFzay5hcHBlbmRDaGlsZCh0YXNrSW5mbyk7XG4gICAgICAgIHRhc2suYXBwZW5kQ2hpbGQoZGVsZXQpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGFzayk7XG4gICAgICAgIGRpYWxvZy5jbG9zZSgpO1xuICAgICAgICBkaWFsb2cucmVtb3ZlKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiaXRlbSBhZGRlZCBzdWNjZXNzZnVsbHlcIik7XG5cbiAgICB9KTtcbiAgICBjYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgZGlhbG9nLmNsb3NlKCk7XG4gICAgICAgIGRpYWxvZy5yZW1vdmUoKTtcbiAgICB9KTtcbiAgICAvL2RpYWxvZyBlbmQgXG5cbn0iLCJleHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdCgpe1xuICAgIGxldCB0b2RvcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9zJykpIHx8IFtdOyAgIFxuICAgIGlmICh0b2Rvcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdG9kb3MucHVzaCh7XG4gICAgICAgICAgICB0aXRsZTogJ0RlZmF1bHQgUHJvamVjdCcsXG4gICAgICAgICAgICBpbmRleCA6IDAsXG4gICAgICAgICAgICB0YXNrIDogW3tcbiAgICAgICAgICAgICAgICB0aXRsZSA6ICdEZWZhdWx0IHRpdGxlJyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbiA6ICdEZWZhdWx0IGRlc2NyaXB0aW9uJyxcbiAgICAgICAgICAgICAgICBpbXBvcnRhbmNlIDogJ0hpZ2gnXG4gICAgICAgICAgICB9XVxuICAgICAgICB9KTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9zJywgSlNPTi5zdHJpbmdpZnkodG9kb3MpKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgaW5pdGlhbGl6ZU1haW5TaWRlIH0gZnJvbSBcIi4vbG9hZFBhZ2VcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRNYWluUGFnZSgpe1xuICAgIGluaXRpYWxpemVNYWluU2lkZSgpO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLXNpZGUnKTtcbiAgICBjb25zdCB3ZWxjb21lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgd2VsY29tZS50ZXh0Q29udGVudCA9IFwiV2hhdCBUbyBEb1wiO1xuICAgIHdlbGNvbWUuY2xhc3NOYW1lID0nd2VsY29tZSc7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHdlbGNvbWUpO1xufSIsImltcG9ydCB7IGluaXRpYWxpemVNYWluU2lkZSB9IGZyb20gXCIuL2xvYWRQYWdlXCI7XG5pbXBvcnQgeyBkZWxldGVQcm9qZWN0IH0gZnJvbSBcIi4vZGVsZXRQcm9qZWN0TmFtZVwiO1xuaW1wb3J0IHsgcmVuZGVyTWFpblBhZ2UgfSBmcm9tIFwiLi9yZW5kZXJNYWluUGFnZVwiO1xuaW1wb3J0IHsgYWRkUHJvamVjdCB9IGZyb20gXCIuL2FkZFByb2plY3RcIjtcbmltcG9ydCB7IHNldERlZmF1bHQgfSBmcm9tIFwiLi9zZXREZWZhdWx0XCI7XG5pbXBvcnQgeyByZW5kZXJUb2RvUHJvamVjdE5hbWUgfSBmcm9tIFwiLi9yZW5kZXJUb2RvUHJvamVjdE5hbWVcIjtcbmltcG9ydCB7IGRlZmF1bHRNYWluUGFnZSB9IGZyb20gXCIuL2RlZmF1bHRNYWluXCI7XG5cbnNldERlZmF1bHQoKTtcbmRlZmF1bHRNYWluUGFnZSgpO1xuZnVuY3Rpb24gcmVzZXRMb2NhbFN0b3JhZ2UoKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sZWZ0LXNpZGVcIik7XG4gICAgY29uc3QgcmVzZXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICByZXNldEJ0bi50ZXh0Q29udGVudCA9IFwiUmVzZXQgTG9jYWwgc3RvcmFnZVwiO1xuICAgIHJlc2V0QnRuLmNsYXNzTmFtZSA9IFwicmVzZXRcIjtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQocmVzZXRCdG4pO1xuICAgIHJlc2V0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCgpPT57XG4gICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgICAgICBpbml0aWFsaXplTWFpblNpZGUoKTtcbiAgICAgICAgc2V0RGVmYXVsdCgpO1xuICAgICAgICByZW5kZXJUb2RvUHJvamVjdE5hbWUoKTtcbiAgICAgICAgZGVmYXVsdE1haW5QYWdlKCk7XG4gICAgfSk7XG59XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICAgIFxuICAgIC8vcmVuZGVyTWFpblBhZ2UoKTtcbiAgICByZW5kZXJUb2RvUHJvamVjdE5hbWUoKTtcbiAgICByZXNldExvY2FsU3RvcmFnZSgpO1xuICAgIGNvbnN0IGFkZEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQnKTtcbiAgICBhZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PntcbiAgICAgICAgYWRkUHJvamVjdCgpO1xuICAgICAgICBcbiAgICB9KTtcbiAgICBjb25zdCBob3ZlckRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGl0bGVcIilcbiAgICBob3ZlckRpdi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT57XG4gICAgICAgIGhvdmVyRGl2LnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgaG92ZXJEaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICAgICAgZGVmYXVsdE1haW5QYWdlKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy9jb25zdCB0b2Rvc05hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3QnKTtcbiAgICBjb25zdCB0b2Rvc05hbWVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnByb2plY3ROYW1lJyk7XG4gICAgdG9kb3NOYW1lcy5mb3JFYWNoKHRvZG9OYW1lID0+IHtcbiAgICAgICAgdG9kb05hbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PntcbiAgICAgICAgICAgIHJlbmRlck1haW5QYWdlKCk7XG4gICAgICAgICAgICBpbml0aWFsaXplTWFpblNpZGUoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29uc3QgZGVsZXRlTmFtZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGVsZXRlJyk7XG4gICAgZGVsZXRlTmFtZXMuZm9yRWFjaChkZWxldGVOYW1lID0+IHtcbiAgICAgICAgZGVsZXRlTmFtZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+e1xuICAgICAgICAgICAgZGVsZXRlUHJvamVjdChkZWxldGVOYW1lLmdldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcpKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcbi8qIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIGxvY2FsIHN0b3JhZ2UgaXMgdXNlZCBcbmluIGFkZFByb2plY3QgYW5kIHNldCBkZWZhdWx0IGFuZCBxdWl0IGEgYml0IGluIFxucmVuZGVyVG9kb1Byb2plY3ROYW1lXG4qLyIsImltcG9ydCB7IHJlbmRlclRvZG9Qcm9qZWN0TmFtZSB9IGZyb20gXCIuL3JlbmRlclRvZG9Qcm9qZWN0TmFtZVwiO1xuaW1wb3J0IHsgaW5pdGlhbGl6ZU1haW5TaWRlIH0gZnJvbSBcIi4vbG9hZFBhZ2VcIjtcbmltcG9ydCB7IHJlbmRlck1haW5QYWdlIH0gZnJvbSBcIi4vcmVuZGVyTWFpblBhZ2VcIjtcbmV4cG9ydCBmdW5jdGlvbiBhZGRQcm9qZWN0KCl7XG4gICAgaW5pdGlhbGl6ZU1haW5TaWRlKCk7XG4gICAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLXNpZGUnKTtcblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBjb25zdCBpbnAxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBcbiAgICBjb25zdCBhZGRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNvbnN0IGNhbmNlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgYnRucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBpbnAxLmlkID0gXCJwcm9qZWN0VGl0bGVcIjtcbiAgICBpbnAxLnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwicHJvamVjdCBuYW1lIGljaSAuLi5cIik7XG5cbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKFwidGl0cmVcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FkZENvbnRhaW5lcicpO1xuICAgIGlucDEuY2xhc3NMaXN0LmFkZChcImNoYW1wc0RlU2Fpc2llXCIpO1xuICAgIGFkZEJ0bi5jbGFzc0xpc3QgPSBcImFkZEJ0biBib3V0b25cIjtcbiAgICBjYW5jZWxCdG4uY2xhc3NMaXN0ID0gXCJjYW5jZWxCdG4gYm91dG9uXCI7XG4gICAgYnRucy5jbGFzc0xpc3QuYWRkKFwiYnRuc1wiKTtcblxuICAgIGFkZEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwic3VibWl0XCIpO1xuICAgIGNhbmNlbEJ0bi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSBcIlRpdHJlIGR1IHByb2pldFwiO1xuICAgIHRpdGxlLnNldEF0dHJpYnV0ZShcImZvclwiLCBcInByb2plY3RUaXRsZVwiKTtcbiAgICBhZGRCdG4udGV4dENvbnRlbnQgPSBcIkFkZFwiO1xuICAgIGNhbmNlbEJ0bi50ZXh0Q29udGVudCA9IFwiQ2FuY2VsXCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRpdGxlKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wMSk7XG4gICAgYnRucy5hcHBlbmRDaGlsZChhZGRCdG4pO1xuICAgIGJ0bnMuYXBwZW5kQ2hpbGQoY2FuY2VsQnRuKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYnRucyk7XG5cbiAgICBtYWluLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgaW5wMS5mb2N1cygpO1xuICAgIGZ1bmN0aW9uIGFkZCgpe1xuICAgICAgICBpZiAoaW5wMS52YWx1ZSAhPT0nJyl7XG4gICAgICAgICAgICBsZXQgdG9kb3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2RvcycpKSB8fCBbXTtcbiAgICAgICAgICAgIHRvZG9zLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiBgJHtpbnAxLnZhbHVlfWAsXG4gICAgICAgICAgICAgICAgaW5kZXg6IHRvZG9zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICB0YXNrIDogW3tcbiAgICAgICAgICAgICAgICAgICAgdGl0bGUgOiAnRGVmYXVsdCB0aXRsZScsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uIDogJ0RlZmF1bHQgZGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRhbmNlIDogJ0hpZ2gnXG4gICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9zJywgSlNPTi5zdHJpbmdpZnkodG9kb3MpKTtcbiAgICAgICAgICAgIGlucDEudmFsdWUgPScnO1xuICAgICAgICAgICAgaW5pdGlhbGl6ZU1haW5TaWRlKCk7XG4gICAgICAgICAgICByZW5kZXJUb2RvUHJvamVjdE5hbWUoKTtcbiAgICAgICAgICAgIHJlbmRlck1haW5QYWdlKCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgYWxlcnQoXCJzYWlzZSB1biBwcm9qZWN0IGQnYWJvcmQgXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBjYW5jZWwoKXtcbiAgICAgICAgcmVuZGVyVG9kb1Byb2plY3ROYW1lKCk7XG4gICAgICAgIHJlbmRlck1haW5QYWdlKCk7XG4gICAgfTtcbiAgICBhZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFkZCk7XG4gICAgY2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjYW5jZWwpO1xufVxuIiwiaW1wb3J0IHsgcmVuZGVyVG9kb1Byb2plY3ROYW1lIH0gZnJvbSBcIi4vcmVuZGVyVG9kb1Byb2plY3ROYW1lXCI7XG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlUHJvamVjdChpKXtcbiAgICBsZXQgdG9kb0l0ZW1zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb3MnKSkgfHwgW107XG4gICAgbGV0IGluZGV4VG9SZW1vdmUgPSB0b2RvSXRlbXMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5pbmRleCA9PT0gcGFyc2VJbnQoaSkpO1xuICAgIHRvZG9JdGVtcy5zcGxpY2UoaW5kZXhUb1JlbW92ZSwgMSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9zJywgSlNPTi5zdHJpbmdpZnkodG9kb0l0ZW1zKSk7XG4gICAgXG4gICAgLy8gaWwgZmF1dCBtZXR0cmUgYSBqb3VyIGxlcyBpbmRleCBkdSB0b2RvcyBxdWkgc29udCBhdSBsb2NhbFN0b3JhZ2VcbiAgICBsZXQgdG9kb3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2RvcycpKSB8fCBbXTtcbiAgICB2YXIgaiA9IDA7XG4gICAgdG9kb3MuZm9yRWFjaCh0b2RvID0+IHtcbiAgICAgICAgdG9kby5pbmRleCA9IGo7XG4gICAgICAgIGorPTFcbiAgICB9KTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kb3MnLCBKU09OLnN0cmluZ2lmeSh0b2RvcykpO1xuICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIHJlbmRlclRvZG9Qcm9qZWN0TmFtZSgpO1xufSJdLCJuYW1lcyI6WyJpbml0aWFsaXplTWFpblNpZGUiLCJtYWluQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInJlbmRlclRvZG9Qcm9qZWN0TmFtZSIsInF1ZXJ5U2VsZWN0b3IiLCJpbm5lckhUTUwiLCJpbmRleCIsImNvbnNvbGUiLCJsb2ciLCJjb250YWluZXIiLCJ0b2Rvc0pzb24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiZm9yRWFjaCIsInRvZG8iLCJibG9jayIsImNyZWF0ZUVsZW1lbnQiLCJuYW1lIiwidHJhc2hDb250YWluZXIiLCJ0cmFzaCIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwidGV4dENvbnRlbnQiLCJ0aXRsZSIsInJlbmRlck1haW5QYWdlIiwicGFuZWwiLCJwcm9qZWN0SW5mb0NvbnRhaW5lciIsImRpdiIsImhvcml6bnRhbGVMaW5lIiwidGFza0NvbnRhaW5lciIsImJ0biIsImlkIiwicXVlcnlTZWxlY3RvckFsbCIsInRvZG9OYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0b3JlZFRvZG9zIiwiZGF0YXNldCIsInRhc2siLCJ0b0RvIiwidGFza0luZm8iLCJkZXNjcmlwdGlvbiIsImltcG9ydGFuY2UiLCJlIiwiZGVsZXQiLCJpIiwiZGlhbG9nIiwidGl0bCIsImRpc2NyaXB0aW9uIiwicmFkaW8xIiwicmFkaW8yIiwicmFkaW8zIiwiY2hvaXgiLCJwMSIsImxhYmVsMCIsImxhYmVsMSIsImxhYmVsMiIsImxhYmVsMyIsImNhbmNlbEJ0biIsImFkZEJ0blRvTG9jYWxTdG9yYWdlIiwidHlwZSIsInZhbHVlIiwicmVxdWlyZWQiLCJzaG93TW9kYWwiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwidG9kb3MiLCJsZW5ndGgiLCJuZXdUYXNrIiwicHVzaCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJpbXBvIiwiY2xvc2UiLCJyZW1vdmUiLCJhZGRUYXNrIiwiY3VycmVudFRhcmdldCIsImdldEF0dHJpYnV0ZSIsInNldERlZmF1bHQiLCJkZWZhdWx0TWFpblBhZ2UiLCJ3ZWxjb21lIiwiY2xhc3NOYW1lIiwicmVzZXRCdG4iLCJjbGVhciIsInJlc2V0TG9jYWxTdG9yYWdlIiwibWFpbiIsImlucDEiLCJhZGRCdG4iLCJidG5zIiwiZm9jdXMiLCJhbGVydCIsImFkZFByb2plY3QiLCJob3ZlckRpdiIsInN0eWxlIiwiY3Vyc29yIiwiZGVsZXRlTmFtZSIsInRvZG9JdGVtcyIsImluZGV4VG9SZW1vdmUiLCJmaW5kSW5kZXgiLCJpdGVtIiwicGFyc2VJbnQiLCJzcGxpY2UiLCJqIiwibG9jYXRpb24iLCJyZWxvYWQiLCJkZWxldGVQcm9qZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==